<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rps</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-r from-yellow-500 to-white flex flex-col mt-[200px] items-center justify-center">
    <p>Rock paper scissor game using javascript</p>
    <div class="space-y-6 space-x-6 ">

        <button  class="w-28 h-28 rounded-full shadow-lg  border-gray-0 border bg-gradient-to-br"
        onclick="
            playGame('rock');
        ">ROCK</button>

        <button class="w-28 h-28 rounded-full border bg-gradient-to-br border-gray-50 shadow-lg"      
        onclick="
            playGame('paper');
        ">PAPER</button>

        <button class="w-28 h-28 rounded-full border bg-gradient-to-br border-gray-50 shadow-lg"       
        onclick="
            playGame('scissors') 
        ">SCISSORS</button> 

        <button class="w-28 h-28 rounded-full border bg-gradient-to-br border-gray-50 shadow-lg"       
        onclick="
            score.wins=0; 
            score.loses=0;
            score.tie=0;
            alert('Your Score Was Reset')
            localStorage.removeItem('score')
            ">
        RESET</button>
    </div>

    <div class="mt-20 text-4xl font-thin">
         Pick Your Move
    </div>


    <!-- script -->
    <script>

// javascript functions, parameters, function calls..!!!
// JSON Built-in functions

// JSON.parse(), JSON.stringify() , 
// localStorage.setItem(), localStorage.getItem(), localStorage.removeItem()

        let score= JSON.parse(localStorage.getItem('score'))||{wins:0,loses:0,tie:0}

        function playGame(playerMove){
            const computerMove=theComputerMove();
            let result='';
            // comparing the moves with computer
            if(playerMove ==='rock'){
                if(computerMove === 'rock'){
                    result='tie';
                }
                else if( computerMove === 'paper'){
                    result='you lose!!';
                }
                else if( computerMove === 'scissors'){
                    result='you win!';
                }
            }

            else if(playerMove ==='paper'){
                if(computerMove === 'rock'){
                    result='you win!';
                }
                else if( computerMove === 'paper'){
                    result='tie';
                }
                else if( computerMove === 'scissors'){
                    result='you lose!!';
                }
            }


            else if(playerMove === 'scissors'){
                if(computerMove === 'rock'){
                    result='you lose!!';
                }
                else if( computerMove === 'paper'){
                    result='you win!';
                }
                else if( computerMove === 'scissors'){
                    result='tie';
                }
            }

            

            if(result === 'you win!'){
                score.wins +=1;
            }

            else if(result === 'you lose!!'){
                score.loses +=1;
            }

            else if(result === 'tie'){
                score.tie +=1;
            }

            localStorage.setItem('score',JSON.stringify(score));

        // displaying the results in a popup
            alert(`you picked ${playerMove}. Computer picked ${computerMove}. ${result} \n wins= ${score.wins}, loses= ${score.loses}, tie=${score.tie}`);
         }

        function theComputerMove(){
            
            const randomNumber=Math.random();
            if (randomNumber>=0 && randomNumber<=1/3){
                computerMove='rock';
            }
            else if(randomNumber>=1/3 && randomNumber<=2/3){
                computerMove='paper';
            }
            else{
                computerMove='scissors';
            } 

            return computerMove;
        }
    </script>

</body>
</html>
